<?php
/**
 * Generated by Haxe 4.0.5
 */

namespace haxe\iterators;

use \php\_Boot\HxAnon;
use \php\Boot;

/**
 * This iterator can be used to iterate over char indexes and char codes in a string.
 * Note that char codes may differ across platforms because of different
 * internal encoding of strings in different runtimes.
 */
class StringKeyValueIterator {
	/**
	 * @var int
	 */
	public $offset;
	/**
	 * @var string
	 */
	public $s;

	/**
	 * Create a new `StringKeyValueIterator` over String `s`.
	 * 
	 * @param string $s
	 * 
	 * @return void
	 */
	public function __construct ($s) {
		$this->offset = 0;
		$this->s = $s;
	}

	/**
	 * See `KeyValueIterator.hasNext`
	 * 
	 * @return bool
	 */
	public function hasNext () {
		return $this->offset < mb_strlen($this->s);
	}

	/**
	 * See `KeyValueIterator.next`
	 * 
	 * @return object
	 */
	public function next () {
		$tmp = $this->offset;
		return new HxAnon([
			"key" => $tmp,
			"value" => \StringTools::fastCodeAt($this->s, $this->offset++),
		]);
	}
}

Boot::registerClass(StringKeyValueIterator::class, 'haxe.iterators.StringKeyValueIterator');
